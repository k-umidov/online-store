{% extends 'base.html' %}
{% load humanize %}
{% load static %}
{% block header %}

{% endblock header %}

{% block main %}
<style>
.container_change {
    display: flex;
    flex-direction: column;  /* заголовок сверху, форма ниже */
    align-items: center;     /* горизонтальный центр */
    justify-content: center; /* вертикальный центр */
    min-height: 80vh;        /* занимает 80% высоты экрана */
    padding: 20px;
}
    .custom-alert {
    position: fixed;
    inset: 0;
    background: rgba(3, 10, 35, 0.95);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 99999;
}

.custom-alert-box {
    background: #081a3a;
    color: #fff;
    padding: 25px;
    width: 90%;
    max-width: 400px;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 0 30px rgba(0,0,0,0.7);
}

.custom-alert-title {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 15px;
}

.custom-alert-text {
    font-size: 14px;
    margin-bottom: 8px;
    background: rgba(255,255,255,0.08);
    padding: 8px;
    border-radius: 6px;
}

.custom-alert-btn {
    margin-top: 15px;
    padding: 8px 25px;
    background: #0d6efd;
    border: none;
    border-radius: 6px;
    color: #fff;
    font-size: 14px;
    cursor: pointer;
}

.custom-alert-btn:hover {
    background: #0b5ed7;
}
</style>
<main>
    <div class="content">
        <div class="container_change">
            <h2 class="login_title">Изменить данные</h2>
            <div class="login_content">
                <div class="login">
                    <div class="login_form">
                        <form action="{% url 'change' %}" method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                            <div class="form-group">
                                {{ account_form.username}}
                            </div>
                            <div class="form-group">
                                {{ account_form.first_name}}
                            </div>

                            <div class="form-group">
                                {{ account_form.last_name}}
                            </div>
                            <div class="form-group">
                                {{ account_form.email }}
                            </div>
                            <div class="form-group">
                                {{ customer_form.phone }}
                            </div>
                            <div class="form-group">
                                {{ account_form.avatar }}
                            </div>
                            <div class="form-group">
                                {{ password_form.old_password }}
                            </div>
                            <div class="form-group">
                                {{ password_form.new_password1 }}
                            </div>
                            <div class="form-group">
                                {{ password_form.new_password2 }}
                            </div>
                            {% if password_form.errors %}
                            <div class="custom-alert" id="customAlert">
                                <div class="custom-alert-box">
                                    <p class="custom-alert-title">Ошибка</p>

                                    {% for error in password_form.non_field_errors %}
                                    <p class="custom-alert-text">{{ error }}</p>
                                    {% endfor %}

                                    {% for field in password_form %}
                                    {% for error in field.errors %}
                                    <p class="custom-alert-text">{{ error }}</p>
                                    {% endfor %}
                                    {% endfor %}

                                    <button class="custom-alert-btn" onclick="closeAlert()">OK</button>
                                </div>
                            </div>
                            {% endif %}


                            <button class="btn btn-register" type="submit">Сохранить</button>
                        </form>
                    </div>
                </div>


            </div>
        </div>
    </div>
</main>

<script>
function closeAlert() {
    document.getElementById('customAlert').style.display = 'none';
}

</script>


{% endblock main %}











