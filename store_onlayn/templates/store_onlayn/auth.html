{% extends 'base.html' %}
{% load humanize %}
{% load static %}
{% block header %}

{% endblock header %}

{% block main %}
<style>
.custom-alert {
    position: fixed;
    inset: 0; /* top:0; bottom:0; left:0; right:0 */
    background: rgba(3, 10, 35, 0.95); /* тёмно-синий прозрачный фон */
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 99999;
}

/* Сам блок сообщения */
.custom-alert-box {
    background: #081a3a; /* тёмно-синий фон окна */
    color: #fff;         /* белый текст */
    padding: 25px;
    width: 90%;
    max-width: 400px;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 0 30px rgba(0,0,0,0.7);
}

/* Заголовок окна */
.custom-alert-title {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 15px;
}

/* Текст ошибки */
.custom-alert-text {
    font-size: 14px;
    margin-bottom: 10px;
    background: rgba(255,255,255,0.08);
    padding: 8px;
    border-radius: 6px;
}

/* Кнопка OK */
.custom-alert-btn {
    margin-top: 15px;
    padding: 8px 25px;
    background: #d9534f; /* красная для ошибок */
    border: none;
    border-radius: 6px;
    color: #fff;
    font-size: 14px;
    cursor: pointer;
}

.custom-alert-btn:hover {
    background: #c9302c;
}

/* Адаптив */
@media (max-width: 480px) {
    .custom-alert-box {
        max-width: 90%;
        padding: 20px;
    }

    .custom-alert-title {
        font-size: 18px;
    }

    .custom-alert-text {
        font-size: 13px;
    }

    .custom-alert-btn {
        font-size: 13px;
        padding: 7px 20px;
    }
}
</style>
<main>
    <div class="content">
        <div class="container">
            <h2 class="login_title">Авторизация</h2>
            {% for message in messages %}
            <div class="custom-alert" id="customAlert">
                <div class="custom-alert-box">
                    <p class="custom-alert-title">Ошибка</p>
                    <p class="custom-alert-text">{{ message }}</p>
                    <button class="custom-alert-btn" onclick="closeAlert()">OK</button>
                </div>
            </div>
            {% endfor %}


            <div class="login_content">
                <div class="login">
                    <div class="login_form">
                        <form action="{% url 'auth' %}" method="post">
                            {% csrf_token %}
                            <div class="form-group">
                                {{ log_form.username }}
                            </div>
                            <div class="form-group">
                                {{ log_form.password }}
                            </div>
                            <button class="btn btn-login" type="submit">Войти</button>
                        </form>
                    </div>
                </div>


                <div class="longin_info">
                    <h2 class="first_visit">Впервые у нас?</h2>
                    <p>Создайте свой аккаунт и совершайте покупки как в интернет-магазине так в сети оффлайн магазинах
                        бренда.</p>
                    <a href="{% url 'register' %}" class="btn-to_register">Регистрация</a>

                </div>

            </div>
        </div>
    </div>
</main>
<script>
function closeAlert() {
    document.getElementById('customAlert').style.display = 'none';
}
</script>
{% endblock main %}
